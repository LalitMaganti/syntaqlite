{
  "definitions": [
    {
      "kind": "flags",
      "name": "AggregateFunctionCallFlags",
      "flags": { "DISTINCT": 1 }
    },
    {
      "kind": "node",
      "name": "AggregateFunctionCall",
      "fields": {
        "func_name": { "storage": "inline", "type": "SyntaqliteSourceSpan" },
        "flags": { "storage": "inline", "type": "AggregateFunctionCallFlags" },
        "args": { "storage": "index", "type": "ExprList" },
        "orderby": { "storage": "index", "type": "OrderByList" },
        "filter_clause": { "storage": "index", "type": "Expr" },
        "over_clause": { "storage": "index", "type": "WindowDef" }
      },
      "fmt": {
        "type": "seq",
        "items": [
          { "type": "span", "field": "func_name" },
          {
            "type": "group",
            "child": {
              "type": "seq",
              "items": [
                { "type": "kw", "text": "(" },
                {
                  "type": "if_flag",
                  "field": "flags.distinct",
                  "then": { "type": "kw", "text": "DISTINCT " }
                },
                {
                  "type": "if_set",
                  "field": "args",
                  "then": {
                    "type": "nest",
                    "child": {
                      "type": "seq",
                      "items": [
                        { "type": "softline" },
                        { "type": "child", "field": "args" }
                      ]
                    }
                  }
                },
                {
                  "type": "if_set",
                  "field": "orderby",
                  "then": {
                    "type": "seq",
                    "items": [
                      { "type": "kw", "text": " ORDER BY " },
                      { "type": "child", "field": "orderby" }
                    ]
                  }
                },
                { "type": "softline" },
                { "type": "kw", "text": ")" }
              ]
            }
          },
          {
            "type": "if_set",
            "field": "filter_clause",
            "then": {
              "type": "seq",
              "items": [
                { "type": "kw", "text": " FILTER (WHERE " },
                { "type": "child", "field": "filter_clause" },
                { "type": "kw", "text": ")" }
              ]
            }
          },
          {
            "type": "if_set",
            "field": "over_clause",
            "then": {
              "type": "seq",
              "items": [
                { "type": "kw", "text": " OVER " },
                { "type": "child", "field": "over_clause" }
              ]
            }
          }
        ]
      }
    }
  ]
}
